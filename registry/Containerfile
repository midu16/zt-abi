FROM docker.io/library/centos:7
MAINTAINER midu@redhat.com
# upgrading the image and installing packages to the container
RUN sudo yum upgrade -y && sudo yum upgrade -y && sudo yum install epel-release -y && sudo yum install python3 -y

# downloading the oc-cli and oc-mirror-cli 
WORKDIR / 
RUN curl -O -L wget https://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.12.2/openshift-client-linux.tar.gz && tar  zxvf openshift-client-linux.tar.gz && sudo cp -r kubectl oc /usr/local/bin/
RUN /usr/local/bin/oc version

RUN curl -sSfL https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/$VERSION/oc-mirror.tar.gz | tar  zxvf - oc-mirror && sudo chown a+x ./oc-mirror && sudo cp oc-mirror /usr/local/bin
RUN /usr/local/bin/oc-mirror version

CMD ["/bin/bash"]